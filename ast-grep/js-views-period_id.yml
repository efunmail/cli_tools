# // RUN: ast-grep scan -i -r $0
# // RUN: ast-grep scan -r $0 --globs '*/**/views/aaa/aaa_index.xml' -i

id: js-views-period_id
language: javascript

# !! NOTE: in `sgconfig.yml`:
#     languageGlobs: 
#        #html: ['*.xml'] # // CakePHP
#        html: ['aaa_*.xml']

# // ALT: CMD-LINE: `--globs '...'`
#files: ['*/**/views/aaa/aaa_index.xml']

severity: warning
message: Ensure the 'ID' is correct (ie. UP-TO-DATE!).

rule: { pattern: 'var period_id = $ID' }

fix: |-
  var period_id = 'YYYY_FUND_N'
