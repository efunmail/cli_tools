# $$ frankenphp -c dev.Caddyfile run

# // https://frankenphp.dev/docs/laravel/
{
  frankenphp

  # // TODO: Necessary??
  # order php_server before file_server
}

# localhost:8083 {  # // TLS - httpS
:8083 {
  # // `handle_path` & `handle` - REF: https://caddyserver.com/docs/caddyfile/directives/handle_path

  handle_path /mydir* {
  #           =======
    # // EXAMPLE (basic) server: `python3 -m http.server -b 127.0.0.1 5311` 
    reverse_proxy 127.0.0.1:5311
    #             --------------
  }

  handle {
    # Set the webroot to the public/ directory
    #root * public/
    root * /var/www/secure/

    # Enable compression (optional)
    encode zstd br gzip

    # Execute PHP files from the public/ directory and serve assets
    php_server
  }
}

# :8050 {
#   #reverse_proxy 127.0.0.1:5311 # // OKAY
#
#   handle_path /mydir* {  # // OKAY
#     reverse_proxy  127.0.0.1:5311
#   }
# }
